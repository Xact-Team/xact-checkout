<xact-checkout-page *ngIf='vm$ | async as vm'>
  <ng-container *ngIf='vm.user'>
    <swal
      #sellSwal
      title='Are you sure to sell this NFT ?'
      text='A request will be sent to your account on Xact Wallet'
      icon='question'
      [showCancelButton]='true'
      [focusCancel]='true'
      (confirm)='sell(vm.user)'>
    </swal>
    <div class='bg-white dark:bg-gray-800 px-4 py-6 sm:p-6 rounded-2xl'>
      <div class='container px-4 mx-auto'>
        <form [formGroup]='sellForm' (submit)='sellSwal.fire()'>
          <div>
            <div>
              <div
                class='mt-6 sm:mt-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5'>
                <label class='block text-sm font-medium leading-5 dark:text-white text-gray-700 sm:mt-px sm:pt-2'
                       for='name'>Name of the NFT</label>
                <div class='mt-1 sm:mt-0 sm:col-span-2'>
                  <div class='max-w-lg flex rounded-md shadow-sm'>
                    <input
                      class='flex-1 font-bold form-input block w-full text-gray-700 min-w-0 rounded-none rounded-r-md transition duration-150 ease-in-out sm:text-sm sm:leading-5'
                      id='name' disabled value='{{nft?.name}}'>
                  </div>
                </div>
              </div>
              <div class='mt-6 sm:mt-5'>
                <div class='sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5'>
                  <label class='block text-sm font-medium leading-5 dark:text-white text-gray-700 sm:mt-px sm:pt-2'
                         for='creator'>Creator</label>
                  <div class='mt-1 sm:mt-0 sm:col-span-2'>
                    <div class='max-w-lg flex rounded-md shadow-sm'>
                      <input
                        class='flex-1 form-input font-bold block w-full text-gray-700 min-w-0 rounded-none rounded-r-md transition duration-150 ease-in-out sm:text-sm sm:leading-5'
                        id='creator' disabled value='{{nft?.creator}}'>
                    </div>
                  </div>
                </div>
                <div class='mt-6 sm:mt-5'>
                  <div class='sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5'>
                    <label class='block text-sm font-medium leading-5 dark:text-white text-gray-700 sm:mt-px sm:pt-2'
                           for='supply'>Supply</label>
                    <div class='mt-1 sm:mt-0 sm:col-span-2'>
                      <div class='max-w-lg flex rounded-md shadow-sm'>
                        <input
                          class='flex-1 form-input font-bold block w-full text-gray-700 min-w-0 rounded-none rounded-r-md transition duration-150 ease-in-out sm:text-sm sm:leading-5'
                          id='supply' disabled value='x{{nft?.supply}}'>
                      </div>
                    </div>
                  </div>
                </div>
                <div class='mt-6 sm:mt-5'>
                  <div class='sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5'>
                    <label class='block text-sm font-medium leading-5 dark:text-white text-gray-700 sm:mt-px sm:pt-2'
                           for='category'>Category</label>
                    <div class='mt-1 sm:mt-0 sm:col-span-2'>
                      <div class='max-w-lg flex rounded-md shadow-sm'>
                        <input
                          class='flex-1 form-input font-bold block w-full text-gray-700 min-w-0 rounded-none rounded-r-md transition duration-150 ease-in-out sm:text-sm sm:leading-5'
                          id='category' disabled value='{{nft?.category}}'>
                      </div>
                    </div>
                  </div>
                  <div class='mt-6 sm:mt-5'>
                    <div class='sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5'>
                      <label class='block text-sm font-medium leading-5 dark:text-white text-gray-700 sm:mt-px sm:pt-2'
                             for='description'>Description</label>
                      <div class='mt-1 sm:mt-0 sm:col-span-2'>
                        <div class='max-w-lg flex rounded-md shadow-sm'>
                        <textarea
                          class='flex-1 form-input font-bold block w-full text-gray-700 min-w-0 rounded-none rounded-r-md transition duration-150 ease-in-out sm:text-sm sm:leading-5'
                          id='description' disabled value='{{nft?.description}}'>
                        </textarea>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div
                    class='mt-6 sm:mt-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5'>
                    <label class='block text-sm font-medium leading-5 dark:text-white text-gray-700 sm:mt-px sm:pt-2'
                           for='unit_price'>Unit Price in Hbar</label>
                    <div class='mt-1 sm:mt-0 sm:col-span-2'>
                      <div class='max-w-lg flex rounded-md shadow-sm'>
                        <input
                          style='border: 3px solid #474CFF; color: #474CFF'
                          type='number'
                          class='flex-1 form-input font-bold block w-full text-gray-700 min-w-0 rounded-none rounded-r-md transition duration-150 ease-in-out sm:text-sm sm:leading-5'
                          id='unit_price' formControlName='hbarAmount'>
                      </div>
                    </div>
                  </div>
                  <div
                    class='mt-6 sm:mt-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5'>
                    <label class='block text-sm font-medium leading-5 dark:text-white text-gray-700 sm:mt-px sm:pt-2'
                           for='quantity'>Quantity to Sell</label>
                    <div class='mt-1 sm:mt-0 sm:col-span-2'>
                      <div class='max-w-lg flex rounded-md shadow-sm'>
                        <input
                          style='border: 3px solid #474CFF; color: #474CFF'
                          type='number'
                          [attr.max]='nft.supply'
                          class='flex-1 form-input font-bold block w-full text-gray-700 min-w-0 rounded-none rounded-r-md transition duration-150 ease-in-out sm:text-sm sm:leading-5'
                          id='quantity' formControlName='quantity'>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class='mt-8 border-t border-gray-200 pt-5'>
            <div class='flex justify-end'>
              <div class='ml-3 inline-flex rounded-md shadow-sm'>
                <button type='button' routerLink='/'
                        class='inline-flex items-center mr-4 px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500'>
                  Cancel
                </button>
                <button [disabled]='sellForm.invalid'
                        class='inline-flex justify-center py-2 px-8 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out'
                        type='submit'>Sell
                </button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </ng-container>
</xact-checkout-page>
